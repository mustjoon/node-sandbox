 
 


docker network create home
docker run -d --publish 27017:27017 --network "home"  --name "mongo" mongo:3.6
docker run -d --network "home" --publish 8080:8080 --name="hack" --env "MONGODB_URI=mongodb://mongo:27017/test" mustjoon/hackathon-starter:0.2



CLOSE
docker container kill $(docker ps -q)
docker container rm $(docker ps -a -q)


TAG create

docker build -t mustjoon/hackathon-starter:0.3 .


docker commit hack mustjoon/hackathon-starter:0.2
docker push mustjoon/hackathon-starter:0.2


docker tag hack mustjoon/hackathon-starter:0.2


JENKINS BOOT FIX
https://dzone.com/articles/jenkins-02-changing-home-directory
sudo service jenkins stop
# make the changes in /etc/sysconfig/jenkins
sudo mkdir --parents /home/jenkins  # or mv, in your case
sudo chown --recursive jenkins /home/jenkins
sudo service jenkins start


JENKINS DOCKER start

docker run -d -p  5000:8080 gustavoapolinario/jenkins-docker 

docker ps 

docker exec -it CONTAINER_NAME cat   /var/jenkins_home/secrets/initialAdminPassword


ACCESS JENKINS AS ROOT
 docker exec -it -u root  CONTAINER_NAME /bin/bash

INSTALL DOCKER (INSIDE JENKINS CONTAINER)

apt-get update
apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    gnupg-agent \
    software-properties-common


curl -fsSL https://download.docker.com/linux/debian/gpg | apt-key add -

VERIFY:

apt-key fingerprint 0EBFCD88

add-apt-repository \
   "deb [arch=amd64] https://download.docker.com/linux/debian \
   $(lsb_release -cs) \
   stable"

apt-get update
apt-get install docker-ce docker-ce-cli containerd.io

(SOURCE https://docs.docker.com/engine/install/debian/#:~:text=Install%20from%20a%20package&text=Go%20to%20https%3A%2F%2Fdownload,version%20you%20want%20to%20install.)



JENKINS FIXIT 

JENKINS PANNULLE EI DOKKERIIN
TEE NÄMÄ:
sudo chmod 666 /var/run/docker.sock
https://dzone.com/articles/jenkins-02-changing-home-directory
https://www.digitalocean.com/community/questions/how-to-fix-docker-got-permission-denied-while-trying-to-connect-to-the-docker-daemon-socket